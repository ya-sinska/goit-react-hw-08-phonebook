"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[518],{1598:function(n,e,t){t.d(e,{Ey:function(){return m},Jn:function(){return p},UP:function(){return x},__:function(){return f},jj:function(){return h}});var r,i,o,a,u,s=t(168),c=t(9958),d=t(703),l=t(6151),m=(0,c.Z)(d.Z)(r||(r=(0,s.Z)(["\n   max-width:500px;\n   padding: 30px 20px;\n   text-align: center;\n   background-color: #d6e4ee;\n   max-height:250px;\n\n"]))),x=c.Z.input(i||(i=(0,s.Z)(["\n    &:not(:last-child){\n    margin-bottom:10px;\n   }\n    width: 300px; \n    padding: 10px; \n    box-shadow: inset 0 1px 5px rgba(0,0,0,0.2); \n    border: 1px solid #ccc; \n    color: black; \n    font-size:16px;\n    padding-left: 30px; \n   "]))),f=c.Z.label(o||(o=(0,s.Z)(["\n    width: 100px; \n    text-align: right; \n    float: left; \n    margin-right: 10px; \n    line-height: 30px; \n    color: hsl(210deg 8% 20%);\n    font-weight:900;\n   "]))),h=c.Z.p(a||(a=(0,s.Z)(["\n   margin:0;\n   color: tomato;\n   font-size:16px;\n   text-align: center; \n   "]))),p=(0,c.Z)(l.Z)(u||(u=(0,s.Z)(["\nmargin-top:30px;\n"])))},9244:function(n,e,t){t.r(e),t.d(e,{default:function(){return yn}});var r,i,o,a,u,s,c,d,l,m,x,f,h,p,g,Z,b=t(1413),v=t(1598),j=t(184),y=/^([+]?[\s0-9]+)?(\d{3}|[(]?[0-9]+[)])?([-]?[\s]?[0-9])+$/,w=/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,C=function(n){var e,t,r=n.btnText,i=n.register,o=n.handleSubmit,a=n.errors,u=n.onSubmit,s=n.contact,c=n.isLoading;return(0,j.jsx)(v.Ey,{children:(0,j.jsxs)("form",{onSubmit:o(u),autoComplete:"off",children:[(0,j.jsx)(v.__,{htmlFor:"name",children:" Name "}),(0,j.jsx)(v.UP,(0,b.Z)((0,b.Z)({id:"name",type:"text",defaultValue:s?s.name:""},i("name",{required:"This is required",minLength:{value:3,message:"Min length is 3 symbols"},pattern:{value:w,message:"Use only text"}})),{},{placeholder:"Surname Name"})),a.name&&(0,j.jsx)(v.jj,{children:null===(e=a.name)||void 0===e?void 0:e.message}),(0,j.jsx)(v.__,{htmlFor:"number",children:" Number "}),(0,j.jsx)(v.UP,(0,b.Z)((0,b.Z)({id:"number",type:"tel",defaultValue:s?s.number:""},i("number",{required:"This is required",minLength:{value:5,message:"Min length is 5 symbols"},maxLength:{value:20,message:"Max length is 20 symbols"},pattern:{value:y,message:"Use phone number"}})),{},{placeholder:"+38(000)000-00-00"})),a.number&&(0,j.jsx)(v.jj,{children:null===(t=a.number)||void 0===t?void 0:t.message}),(0,j.jsx)(v.Jn,{disabled:c,variant:"contained",type:"submit",children:r})]})})},S=t(168),k=t(9958),L=t(703),E=(0,k.Z)(L.Z)(r||(r=(0,S.Z)(["\nmargin-bottom:30px;\nmax-width:500px;\ntext-align:center;\npadding:15px 10px;\nbackground-color: #d6e4ee;\n"]))),A=k.Z.h2(i||(i=(0,S.Z)(["\ncolor: hsl(210deg 8% 20%);\nmargin: 0 0 15px 0;\n"]))),T=t(885),M=t(7247),U=t(1286),_=t(6151),F=t(4852),z=t(3044),Q=t(6259),I=(0,k.Z)(F.ZP)(o||(o=(0,S.Z)(["\n&:not(:last-child){\n    margin-bottom:10px;\n}\n&:hover{\n    background-color: #f0efed;\n}\nmin-width:370px;\n"]))),N=(0,k.Z)(z.Z)(a||(a=(0,S.Z)(["\nmargin-right:10px;\n"]))),P=(0,k.Z)(Q.Z)(u||(u=(0,S.Z)(["\ntext-transform: capitalize;\n"]))),q=(0,k.Z)(M.Z)(s||(s=(0,S.Z)(["\nmargin-right: -10px; \nmargin-left: 4px;\n"]))),V=(0,k.Z)(U.Z)(c||(c=(0,S.Z)(["\nmargin-right: -10px; \nmargin-left: 4px;\n"]))),G=(0,k.Z)(_.Z)(d||(d=(0,S.Z)(["\nmin-width:40px;\nmargin-right:5px;\n"]))),O=(0,k.Z)(_.Z)(l||(l=(0,S.Z)(["\nmin-width:40px;\n"]))),W=t(1092),D=t(2341),J=(t(7847),t(2791)),$=t(7445),H=k.Z.div(m||(m=(0,S.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n"]))),R=k.Z.div(x||(x=(0,S.Z)(["\nposition:relative; \n  max-width: calc(100vw - 300px);\n  max-height: calc(100vh - 50px);\n  background-color: white;\n"]))),Y=(k.Z.img(f||(f=(0,S.Z)(["\nwidth:100%;\nheight: calc(100vh - 50px);\n"]))),k.Z.button(h||(h=(0,S.Z)(["\nposition: absolute;\ntop:5px;\nright: 5px;\nborder: none;\nborder-radius: 50%;\nbackground-color: #1976d2;\ncolor: white;\ndisplay:flex;\nalign-items:center;\npadding:3px;\n&:hover{\n  background-color: #1565c0;\n}\n"])))),B=t(4164),K=t(5861),X=t(7757),nn=t.n(X),en=t(5290),tn=t(9823),rn=document.querySelector("#modal-root"),on=function(n){var e=n.onClose,t=n.id,r=function(n,e){var t=(0,D.useGetContactsQuery)().data.find((function(n){return n.id===e})),r=(0,D.useUpdateContactMutation)(),i=(0,T.Z)(r,2),o=i[0],a=i[1],u=a.isLoading,s=a.isSuccess,c=a.isError;(0,J.useEffect)((function(){s&&(0,$.QU)(),c&&(0,$.i4)()}),[c,s]);var d=function(){var e=(0,K.Z)(nn().mark((function e(r){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o((0,b.Z)({id:t.id},r));case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),l=(0,en.cI)({});return{register:l.register,handleSubmit:l.handleSubmit,errors:l.formState.errors,onSubmit:d,contact:t,isLoading:u}}(e,t),i=r.register,o=r.handleSubmit,a=r.errors,u=r.onSubmit,s=r.contact,c=r.isLoading;(0,J.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,B.createPortal)((0,j.jsx)(H,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,j.jsxs)(R,{children:[(0,j.jsx)(C,{btnText:"Save chahges",register:i,handleSubmit:o,errors:a,contact:s,isLoading:c,onSubmit:u}),(0,j.jsx)(Y,{type:"button",onClick:function(){return e()},children:(0,j.jsx)(tn.Z,{})})]})}),rn)},an=function(n){var e=n.name,t=n.number,r=n.id,i=D.useDeleteContactsMutation(),o=(0,T.Z)(i,2),a=o[0],u=o[1],s=u.isLoading,c=u.isSuccess,d=u.isError;(0,J.useEffect)((function(){c&&(0,$.WQ)(),d&&(0,$.Ln)()}),[d,c]);var l=function(){var n=(0,J.useState)(!1),e=(0,T.Z)(n,2),t=e[0],r=e[1];return{modalOpen:t,openModal:function(){r((function(n){return!n}))}}}(),m=l.modalOpen,x=l.openModal;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(I,{children:[(0,j.jsx)(N,{children:e.charAt(0).toUpperCase()}),(0,j.jsx)(P,{primary:"".concat(e,": ").concat(t)}),(0,j.jsx)(G,{disabled:s,onClick:function(){a(r)},variant:"outlined",startIcon:(0,j.jsx)(q,{})}),(0,j.jsx)(O,{onClick:x,variant:"outlined",startIcon:(0,j.jsx)(V,{})})]}),m&&(0,j.jsx)(on,{onClose:x,isModalOpen:m,id:r})]})},un=t(493),sn=t(5048),cn=t(873),dn=t(7047),ln=t(9658),mn=t(3767),xn=function(){var n=function(){var n=(0,sn.v9)(W.getFilterValue),e=J.useMemo((function(){return(0,cn.P1)([function(n){return n.data},function(n,e){return e}],(function(n,e){var t;return null!==(t=null===n||void 0===n?void 0:n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})))&&void 0!==t?t:[]}))}),[]);return(0,D.useGetContactsQuery)(void 0,{selectFromResult:function(t){return(0,b.Z)((0,b.Z)({},t),{},{filteredContacts:e(t,n)})}})}(),e=n.filteredContacts,t=n.isLoading,r=n.isSuccess;return(0,j.jsxs)(E,{elevation:3,children:[(0,j.jsx)(A,{children:"Contacts List"}),t||!r?Array.from(new Array(7)).map((function(n,e){return(0,j.jsx)(dn.Z,{width:360,height:50},e)})):(0,j.jsx)(j.Fragment,{children:e.length>0?(0,j.jsx)(un.Z,{dense:!0,sx:{width:"100%",maxWidth:600,bgcolor:"#d6e4ee",maxHeight:350,overflow:"scroll"},children:e.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,j.jsx)(an,{name:t,number:r,id:e},e)}))}):(0,j.jsx)(mn.Z,{sx:{width:"100%"},spacing:2,children:(0,j.jsx)(ln.Z,{severity:"error",children:"There is No contact in your contacts list!"})})})]})},fn=t(251),hn=t(4554),pn=t(5403),gn=function(){var n=(0,sn.v9)(W.getFilterValue),e=function(){var n=(0,sn.I0)();return function(e){var t=e.currentTarget.value;n(W.addFilter(t))}}();return(0,j.jsxs)(hn.Z,{sx:{display:"flex",alignItems:"flex-end"},children:[(0,j.jsx)(pn.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,j.jsx)(fn.Z,{id:"input-with-sx",variant:"standard",type:"text",name:"filter",onChange:e,value:n,label:"Find contacts by name"})]})},Zn=k.Z.div(p||(p=(0,S.Z)(["\ndisplay: flex;\nalign-items:center;\nflex-direction:column;\nmargin-bottom:30px;\n"]))),bn=k.Z.div(g||(g=(0,S.Z)(["\ndisplay: flex;\nmargin-bottom:30px;\njustify-content:space-around;\n"]))),vn=k.Z.h1(Z||(Z=(0,S.Z)(["\ncolor: hsl(210deg 8% 20%);\nmargin:0 0 15px 0;\npadding-top:20px;\n"]))),jn=t(266);function yn(){var n=function(){var n=(0,en.cI)({defaultValues:{name:"",number:""}}),e=n.register,t=n.reset,r=n.handleSubmit,i=n.formState.errors,o=(0,D.useAddContactsMutation)(),a=(0,T.Z)(o,2),u=a[0],s=a[1],c=s.isLoading,d=s.isSuccess,l=s.isError,m=(0,D.useGetContactsQuery)().data;(0,J.useEffect)((function(){d&&(0,$.pS)(),l&&(0,$.pN)()}),[l,d]);var x=function(){var n=(0,K.Z)(nn().mark((function n(e){var r,i;return nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r={name:e.name,number:e.number},i=m.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()})),!i){n.next=9;break}return(0,$.h4)(r.name),t(),n.abrupt("return");case 9:return n.next=11,u(r);case 11:t();case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),n.t0();case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}();return{register:e,handleSubmit:r,errors:i,isLoading:c,onSubmit:x}}(),e=n.register,t=n.handleSubmit,r=n.errors,i=n.isLoading,o=n.onSubmit;return(0,j.jsxs)(jn.Z,{children:[(0,j.jsxs)(Zn,{children:[(0,j.jsx)(vn,{children:"Your phonebook"}),(0,j.jsx)(gn,{})]}),(0,j.jsxs)(bn,{children:[(0,j.jsx)(C,{btnText:"Add contact",register:e,handleSubmit:t,errors:r,onSubmit:o,isLoading:i}),(0,j.jsx)(xn,{})]})]})}},7445:function(n,e,t){t.d(e,{CT:function(){return l},Ln:function(){return s},QU:function(){return c},WQ:function(){return u},h4:function(){return i},i4:function(){return d},pN:function(){return a},pS:function(){return o}});var r=t(6960),i=function(n){return r.Am.error("Contact ".concat(n," is already exist"),{autoClose:1e3})},o=function(){return r.Am.info("Contact add",{autoClose:1e3})},a=function(){return r.Am.error("Sorry your contact didn't save! Try again",{autoClose:1e3})},u=function(){return r.Am.info("Contact delete!",{autoClose:1e3})},s=function(){return r.Am.error("Sorry your contact didn't DELETE! Try again",{autoClose:1e3})},c=function(){return r.Am.info("Contact Edit SUCSESS!",{autoClose:1e3})},d=function(){return r.Am.error("Sorry! Try again",{autoClose:1e3})},l=function(n){return r.Am.error(n,{autoClose:3e3})}}}]);
//# sourceMappingURL=ContactsPage.1da672e2.chunk.js.map